{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/constants.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/not-found-message.js","../src/js/set-status-buttons.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n  categoriesList: document.querySelector('.categories'),\n  productsList: document.querySelector('.products'),\n  notFoundDiv: document.querySelector('.not-found'),\n};\n","//Константи\n\nexport const STORAGE_KEYS = {};\n\nexport const currentPage = 1;\n","// Функції для роботи з бекендом\n\nimport axios from 'axios';\nimport { currentPage } from './constants';\n\naxios.defaults.baseURL = 'https://dummyjson.com/products/';\n\nexport async function getProductsCategories() {\n  const END_POINT = 'category-list';\n  const url = `${END_POINT}`;\n\n  const response = await axios.get(url);\n\n  return response.data;\n}\n\nexport async function getProducts() {\n  const skip = (currentPage - 1) * 12;\n\n  const url = `?limit=12&skip=${skip}`;\n\n  const response = await axios.get(url);\n\n  return response.data.products;\n}\n\nexport async function getProductsByCategory(category) {\n  const END_POINT = 'category';\n  const skip = (currentPage - 1) * 12;\n  const url = `${END_POINT}/${category}?limit=12&skip=${skip}`;\n\n  const response = await axios.get(url);\n\n  return response.data.products;\n}\n","//Функцію для створення, рендеру або видалення розмітки\n\nimport { refs } from './refs';\n\nexport function renderCategoriesList(categories) {\n  categories.unshift('all');\n\n  const markup = categories\n    .map(\n      category =>\n        `<li class=\"categories__item\">\n            <button class=\"categories__btn\" type=\"button\">${category}</button>\n        </li>`\n    )\n    .join('');\n\n  refs.categoriesList.innerHTML = markup;\n}\n\nexport function renderProductsList(products) {\n  const markup = products\n    .map(\n      ({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n       <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\" />\n       <p class=\"products__title\">${title}</p>\n       <p class=\"products__brand\">\n         <span class=\"products__brand--bold\">Brand: ${brand}</span>\n       </p>\n       <p class=\"products__category\">Category: ${category}</p>\n       <p class=\"products__price\">Price: ${price}$</p>\n    </li>`\n    )\n    .join('');\n\n  refs.productsList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderProductsListByCategory(products) {\n  const markup = products\n    .map(\n      ({ id, thumbnail, title, brand, category, price }) => `\n    <li class=\"products__item\" data-id=\"${id}\">\n       <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\" />\n       <p class=\"products__title\">${title}</p>\n       <p class=\"products__brand\">\n         <span class=\"products__brand--bold\">Brand: ${brand}</span>\n       </p>\n       <p class=\"products__category\">Category: ${category}</p>\n       <p class=\"products__price\">Price: ${price}$</p>\n    </li>`\n    )\n    .join('');\n\n  refs.productsList.innerHTML = markup;\n}\n","export function showNotFoundMessage() {\n  refs.notFoundDiv.classList.add('not-found--visible');\n}\n\nexport function hideNotFoundMessage() {\n  refs.notFoundDiv.classList.remove('not-found--visible');\n}\n","export function setStatusButtons(e) {\n  const activeButton = document.querySelector('.categories__btn--active');\n\n  if (activeButton && activeButton !== e.target) {\n    activeButton.classList.remove('categories__btn--active');\n  }\n\n  e.target.classList.add('categories__btn--active');\n}\n","// Функції, які передаються колбеками в addEventListners\n\nimport { refs } from './refs';\nimport {\n  getProducts,\n  getProductsCategories,\n  getProductsByCategory,\n} from './products-api';\nimport {\n  renderCategoriesList,\n  renderProductsList,\n  renderProductsListByCategory,\n} from './render-function';\n\nimport { showNotFoundMessage, hideNotFoundMessage } from './not-found-message';\nimport { setStatusButtons } from './set-status-buttons';\n\nexport async function onDOMContentLoaded() {\n  try {\n    const categories = await getProductsCategories();\n    renderCategoriesList(categories);\n\n    const products = await getProducts();\n    renderProductsList(products);\n\n    refs.categoriesList.addEventListener('click', onCategoryButtonClick);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function onCategoryButtonClick(e) {\n  if (!e.target.classList.contains('categories__btn')) return;\n\n  const categoryTitle = e.target.textContent.trim().toLowerCase();\n  setStatusButtons(e);\n\n  try {\n    let markup = [];\n\n    if (categoryTitle === 'all') {\n      markup = await getProducts();\n    } else {\n      markup = await getProductsByCategory(categoryTitle);\n    }\n\n    if (markup.length === 0) {\n      showNotFoundMessage();\n    }\n\n    renderProductsListByCategory(markup);\n  } catch (error) {\n    console.log(error);\n  }\n}\n","//Логіка сторінки Home\n\nimport { onDOMContentLoaded } from './js/handlers';\n\ndocument.addEventListener('DOMContentLoaded', onDOMContentLoaded);\n"],"names":["refs","currentPage","axios","getProductsCategories","getProducts","url","getProductsByCategory","category","END_POINT","skip","renderCategoriesList","categories","markup","renderProductsList","products","id","thumbnail","title","brand","price","renderProductsListByCategory","showNotFoundMessage","setStatusButtons","e","activeButton","onDOMContentLoaded","onCategoryButtonClick","error","categoryTitle"],"mappings":"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"}